(this["webpackJsonpdynamic-form-example"]=this["webpackJsonpdynamic-form-example"]||[]).push([[0],{15:function(e,t,a){"use strict";a.r(t);a(8);var n=a(0),r=a.n(n),c=a(5),l=a.n(c),o=a(4),m=a(6),i=a(1),u={text:"DynamicFormType.Text",number:"DynamicFormType.Number",nested:"DynamicFormType.Nested",repeatable:"DynamicFormType.Repeatable"},s=function(e){for(var t={},a=0,n=Object.entries(e);a<n.length;a++){var r=Object(i.a)(n[a],2),c=r[0],l=r[1];t[c]=d(c,l)}return t},d=function(e,t){return{type:p(t),label:f(e,t),placeholder:t.placeholder,defaultValue:b(t),schema:h(t)}},f=function(e,t){return t.label?t.label:e},b=function(e){if(e.hasOwnProperty("defaultValue"))return e.defaultValue;var t=p(e);return t===u.text&&"string"===typeof e||t===u.number&&"number"===typeof e?e:void 0},p=function(e){return e.hasOwnProperty("type")?e.type:"string"===typeof e||e===String?u.text:"number"===typeof e||e===Number?u.number:Array.isArray(e)?u.repeatable:"object"===typeof e?u.nested:void 0},h=function(e){if(e.hasOwnProperty("schema"))return s(e.schema);var t=p(e);return t===u.nested?s(e):t===u.repeatable?s(e[0]):void 0},v="TextyFormType.text",y="TextyFormType.number",E=function(e){var t=e.schema,a=e.onChange,n=void 0===a?function(){}:a;return r.a.createElement(N,{type:v,schema:t,onChange:n})},g=function(e){var t=e.schema,a=e.onChange,n=void 0===a?function(){}:a;return r.a.createElement(N,{type:y,schema:t,onChange:n})},N=function(e){var t=e.type,a=e.schema,c=e.onChange,l=void 0===c?function(){}:c,o=Object(n.useState)((function(){return void 0!==a.defaultValue?(l(a.defaultValue),a.defaultValue):""})),m=Object(i.a)(o,2),u=m[0],s=m[1];return r.a.createElement("div",{className:"input-group flex-nowrap"},r.a.createElement("span",{className:"input-group-text"}," ",a.label," "),r.a.createElement("input",{type:t===v?"text":"number",className:"form-control",placeholder:a.placeholder,value:u,onChange:function(e){return function(e){var a=t===y?parseInt(e):e;s(a),void 0!==a&&l(a)}(e.target.value)}}))},O=function(e){return"function"===typeof e},j=O,x=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return"".concat(e).concat((new Date).getTime())},C=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;O(e)&&setTimeout((function(){e()}),t)},S=0,k=function(e){var t=e.schema,a=e.onChange,c=void 0===a?function(){}:a,l=Object(n.useState)([]),o=Object(i.a)(l,2),u=o[0],s=o[1],d=Object(n.useRef)({}),f=Object(n.useRef)(x()).current,b=function(){var e="".concat(f+t.label,"_").concat(S++);s([].concat(Object(m.a)(u),[r.a.createElement(F,{key:e,schema:t.schema,onChange:function(t){!function(e,t){d.current[e]=t,c(Object.values(d.current))}(e,t)},onDelete:function(){var t;t=e,delete d.current[t],c(Object.values(d.current)),function(e){s((function(t){return t.filter((function(t){return t.key!==e}))}))}(e)}})]))};return r.a.createElement("div",{className:"card border-secondary"},r.a.createElement("div",{className:"card-header"},t.label),r.a.createElement("div",{className:"card-body p-1"},u,r.a.createElement("div",{className:"d-grid"},r.a.createElement("button",{className:"btn btn-outline-secondary mx-1 w-auto",onClick:function(){b()}},"Add"))))},w=function(e){var t=e.schema,a=e.onChange,n=void 0===a?function(){}:a;return r.a.createElement("div",{className:"card border-info"},r.a.createElement("div",{className:"card-header"},t.label),r.a.createElement("div",{className:"card-body p-1 d-grid gap-1"},r.a.createElement(F,{schema:t.schema,onChange:function(e){j(n)&&n(e)}})))},F=function(e){for(var t,a=e.schema,c=e.onChange,l=void 0===c?function(){}:c,m=e.onDelete,s=Object(n.useRef)({}),d=Object(n.useRef)(x()).current,f=[],b=function(){var e=Object(i.a)(h[p],2),t=e[0],a=e[1],n=void 0;a.type===u.text?n=E:a.type===u.number?n=g:a.type===u.nested?n=w:a.type===u.repeatable&&(n=k),f.push(r.a.createElement(n,{key:d+t,schema:a,onChange:function(e){!function(e,t){var a=s.current;a[e]=t,j(l)&&l(Object(o.a)({},a))}(t,e)}}))},p=0,h=Object.entries(a);p<h.length;p++)b();return j(m)&&(t=r.a.createElement("div",{className:""},r.a.createElement("button",{className:"btn btn-outline-danger w-20",onClick:function(){m()}},"Delete"))),r.a.createElement("div",{className:"card border-light"},r.a.createElement("div",{className:"card-body p-1 d-grid gap-1"},f,t))},D={Form:function(e){var t,a=e.schema,c=void 0===a?{}:a,l=e.onChange,m=void 0===l?function(){}:l,i=e.onSubmit,u=Object(n.useRef)({});return j(i)&&(t=r.a.createElement("button",{className:"btn btn-success mx-1 w-auto ",onClick:function(){i(Object(o.a)({},u.current))}},"Submit")),r.a.createElement("div",{className:"d-grid gap-1"},r.a.createElement(F,{schema:c,onChange:function(e){!function(e){u.current=e,j(m)&&C((function(){m(Object(o.a)({},u.current))}))}(e)}}),t)},type:u,schema:s},T=function(e){var t=e.type,a=e.data,n=e.isSchema?"card-body rounded text-white bg-dark":"card-body rounded border";return r.a.createElement("div",{className:n},r.a.createElement("pre",null,r.a.createElement("code",null,t," = ",JSON.stringify(a,null,2))))},R=function(e){var t=e.title,a=e.schema,c=Object(n.useState)((function(){return D.schema(a)})),l=Object(i.a)(c,1)[0],o=Object(n.useState)({}),m=Object(i.a)(o,2),u=m[0],s=m[1],d=Object(n.useState)({}),f=Object(i.a)(d,2),b=f[0],p=f[1];return r.a.createElement("div",{className:"container"},r.a.createElement("h4",{className:"display-4"},t),r.a.createElement("div",{className:"row gy-2"},r.a.createElement("div",{className:"col-12 col-md-4"},r.a.createElement("div",{className:"row mb-2"},r.a.createElement(T,{type:"minimal",data:a,isSchema:!0})),r.a.createElement("div",{className:"row"},r.a.createElement(T,{type:"expanded",data:l,isSchema:!0}))),r.a.createElement("div",{className:"col-12 col-md-4"},r.a.createElement("div",{className:"card-body rounded border border-primary"},r.a.createElement(D.Form,{schema:l,onChange:function(e){return s(e)},onSubmit:function(e){return p(e)}}))),r.a.createElement("div",{className:"col-12 col-md-4"},r.a.createElement("div",{className:"row mb-2"},r.a.createElement(T,{type:"onChange",data:u})),r.a.createElement("div",{className:"row"},r.a.createElement(T,{type:"onSubmit",data:b})))))},A=function(){return r.a.createElement("div",{className:"card-body rounded text-white bg-dark"},r.a.createElement("pre",null,r.a.createElement("code",null,"// CODE EXAMPLE  \nimport DynamicForm from '@rational-kunal/dynamic-form'\n\nconst NameForm = () => {\n    const schema = DynamicForm.schema({\n        \"Name\": String\n    })\n\n    return <DynamicForm schema={schema} />\n}\n")))},V=[{title:"String Form",schema:{Name:"John Doe"}},{title:"Number Form",schema:{Age:21}},{title:"Nested Form",schema:{"Personal Information":{Name:"John Doe",Age:21}}},{title:"Reapeted Form",schema:{Skill:[{skillName:{label:"Skill",type:D.type.text,placeholder:"skill"},skillLevel:{label:"Skill level",type:D.type.number,placeholder:"level"}}]}}],J=function(){return r.a.createElement("div",null,r.a.createElement("div",{className:"mb-4"},r.a.createElement(A,null)),V.map((function(e){return r.a.createElement("div",{className:"mb-4"},r.a.createElement(R,{key:e.title,title:e.title,schema:e.schema}))})))},P=function(){return r.a.createElement("div",{className:"container my-4"},r.a.createElement(J,null))};l.a.render(r.a.createElement(P,null),document.getElementById("root"))},7:function(e,t,a){e.exports=a(15)},8:function(e,t,a){}},[[7,1,2]]]);
//# sourceMappingURL=main.0b11d234.chunk.js.map